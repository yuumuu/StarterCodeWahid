window.ErrorHandler=function(){const e=[];function n(n,r={}){if(!AppConfig.errorReporting)return;const o={timestamp:(new Date).toISOString(),message:n.message||String(n),type:n.name||"Error",stack:n.stack,context:r};return e.push(o),e.length>50&&e.shift(),AppConfig.debug&&(console.group(`%cðŸ”´ Error: ${o.type}`,"color: #ef4444; font-weight: bold; font-size: 14px;"),console.log("%cMessage:","font-weight: bold;",o.message),r.component&&console.log("%cComponent:","font-weight: bold;",r.component),r.url&&console.log("%cURL:","font-weight: bold;",r.url),o.stack&&(console.log("%cStack Trace:","font-weight: bold;"),console.log(o.stack)),Object.keys(r).length>0&&console.log("%cContext:","font-weight: bold;",r),console.groupEnd()),o}function r(e,r={}){const o=n(e,r);window.lastError={message:o.message,name:o.type,stack:o.stack,component:r.component||r.url||"",context:r,timestamp:o.timestamp};document.getElementById("router-view")&&window.Framework?Framework.render(AppConfig.errorPages.devError,"router-view").catch(n=>{console.error("Failed to render dev error page:",n),t(e,r)}):t(e,r)}function o(e,r={}){n(e,{...r,production:!0});document.getElementById("router-view")&&window.Framework?Framework.render(AppConfig.errorPages[500],"router-view").catch(n=>{console.error("Failed to render error page:",n),t(e,r)}):t(e,r)}function t(e,n={}){const r=document.getElementById("router-view");if(!r)return;const o=AppConfig.isDevelopment(),t=e.message||String(e);r.innerHTML=o?`\n        <div class="min-h-screen bg-red-50 p-6">\n          <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">\n            <div class="flex items-center mb-6">\n              <svg class="w-12 h-12 text-red-600 mr-4" fill="currentColor" viewBox="0 0 20 20">\n                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>\n              </svg>\n              <div>\n                <h1 class="text-2xl font-bold text-gray-900">Development Error</h1>\n                <p class="text-gray-600">An error occurred while rendering the error page</p>\n              </div>\n            </div>\n            <div class="bg-gray-100 p-4 rounded mb-4">\n              <h2 class="font-semibold text-gray-700 mb-2">Error Message:</h2>\n              <pre class="text-sm text-red-600 whitespace-pre-wrap">${t}</pre>\n            </div>\n            ${n.component?`\n              <div class="bg-gray-100 p-4 rounded mb-4">\n                <h2 class="font-semibold text-gray-700 mb-2">Component:</h2>\n                <pre class="text-sm text-gray-800">${n.component}</pre>\n              </div>\n            `:""}\n            ${e.stack?`\n              <div class="bg-gray-100 p-4 rounded">\n                <h2 class="font-semibold text-gray-700 mb-2">Stack Trace:</h2>\n                <pre class="text-xs text-gray-600 overflow-x-auto">${e.stack}</pre>\n              </div>\n            `:""}\n            <div class="mt-6 flex gap-4">\n              <button onclick="location.reload()" class="px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">\n                Reload Page\n              </button>\n              <a href="#/" class="px-6 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">\n                Go Home\n              </a>\n            </div>\n          </div>\n        </div>\n      `:'\n        <div class="min-h-screen bg-gray-100 flex items-center justify-center p-6">\n          <div class="max-w-md bg-white rounded-lg shadow-lg p-8 text-center">\n            <div class="text-6xl mb-4">ðŸ˜µ</div>\n            <h1 class="text-2xl font-bold text-gray-900 mb-2">Oops! Something Went Wrong</h1>\n            <p class="text-gray-600 mb-6">We\'re sorry, but something unexpected happened.</p>\n            <div class="flex gap-4 justify-center">\n              <button onclick="location.reload()" class="px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">\n                Reload Page\n              </button>\n              <a href="#/" class="px-6 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">\n                Go Home\n              </a>\n            </div>\n          </div>\n        </div>\n      '}function s(){const e=document.getElementById("router-view");e&&window.Framework&&Framework.render(AppConfig.errorPages[404],"router-view").catch(n=>{console.error("Failed to render 404 page:",n),e.innerHTML='\n            <div class="min-h-screen flex items-center justify-center bg-gray-100">\n              <div class="text-center">\n                <h1 class="text-9xl font-bold text-gray-300">404</h1>\n                <p class="text-2xl text-gray-600 mt-4">Page Not Found</p>\n                <a href="#/" class="mt-8 inline-block px-6 py-3 bg-blue-600 text-white rounded hover:bg-blue-700">\n                  Go Home\n                </a>\n              </div>\n            </div>\n          '})}return{handle:function(e,n={}){e&&("404"===n.type||e.message?.includes("404")?s():AppConfig.isDevelopment()?r(e,n):o(e,n))},showDevError:r,showProdError:o,show404:s,logError:n,getHistory:function(){return[...e]},clearHistory:function(){e.length=0},getSuggestions:function(e){const n=e.message||String(e),r=[];return(n.includes("Failed to load")||n.includes("fetch"))&&(r.push("Check if the file path is correct"),r.push("Verify that the file exists"),r.push("Check your network connection")),(n.includes("undefined")||n.includes("null"))&&(r.push("Check if all required variables are defined"),r.push("Verify data is loaded before accessing it")),n.includes("syntax")&&(r.push("Check for syntax errors in your code"),r.push("Verify all brackets and quotes are properly closed")),0===r.length&&(r.push("Check the console for more details"),r.push("Try refreshing the page"),r.push("Clear your browser cache")),r}}}(),window.addEventListener("error",e=>{ErrorHandler.handle(e.error||new Error(e.message),{type:"global",filename:e.filename,lineno:e.lineno,colno:e.colno})}),window.addEventListener("unhandledrejection",e=>{ErrorHandler.handle(e.reason||new Error("Unhandled Promise Rejection"),{type:"promise",promise:e.promise})}),AppConfig.debug&&console.log("%c[ErrorHandler] Initialized","color: #10b981; font-weight: bold;");